[
  {
    "objectID": "Take-home_Ex/Take-home_Ex01/Take-home_Ex01.html#install-launch-r-packages-load-data-and-build-data-table",
    "href": "Take-home_Ex/Take-home_Ex01/Take-home_Ex01.html#install-launch-r-packages-load-data-and-build-data-table",
    "title": "Take-home Exercise 1",
    "section": "4. Install, launch R packages, load data and build data table",
    "text": "4. Install, launch R packages, load data and build data table\n\nReading the paticipants csv and build interactive paticipants table\n\n\nShow the code\npacman::p_load(tidyverse,dplyr,DT,plotly, ggdist,gganimate,ggstatsplot,ggiraph)\n\n\n\n\nShow the code\np_data <- read_csv(\"data/Participants.csv\") %>% \n  mutate_if(is.character, as.factor) %>% \n  distinct()\nDT::datatable(p_data, class= \"compact\")\n\n\n\n\n\n\n\n\n\nModify the time style of the financial data, pivot the catogory and regroup, calculate the Savings, and build interactive FinancialJournal table\n\n\nShow the code\nfin_data <- read_csv(\"data/FinancialJournal.csv\") %>% \n  mutate_if(is.character, as.factor) %>% distinct() \nfin_data$timestamp <- format(as.Date(fin_data$timestamp), \"%Y-%m\")\nf_data <- fin_data %>% group_by(participantId,timestamp,category) %>% \n  summarise(total_amount=sum(amount),\n            .groups = 'drop') %>%\n  as.data.frame()\nf_data <- f_data %>%\n  pivot_wider(.,names_from = \"category\", values_from = \"total_amount\") \nf_data <- replace(f_data, is.na(f_data), 0) %>%\n    mutate(Saving = select(., Education:RentAdjustment) %>% rowSums(na.rm = TRUE))\nDT::datatable(f_data, class= \"compact\")"
  },
  {
    "objectID": "Take-home_Ex/Take-home_Ex01/Take-home_Ex01.html#analysis-and-visualization",
    "href": "Take-home_Ex/Take-home_Ex01/Take-home_Ex01.html#analysis-and-visualization",
    "title": "Take-home Exercise 1",
    "section": "5. Analysis and visualization",
    "text": "5. Analysis and visualization\n\n5.1 Figure out the relationship of educationLevel and Joviality\n\nOverall, we see from below that with the increasing of education level, people tend to have higher level of joviality as the lower bound and mean value of joviality has a trend to increase. Although we can also observe that for low level of education, the range is bigger that all other level, this might indicate longer social experience can still affect the upper bound of joviality, but enhancing education is still a more direct way to increase joviality level.\n\nThe plotThe codeThe statistics table\n\n\n\n\n\n\n\n\n\n\ndf <- f_data %>% group_by(participantId) %>% \n  summarise(total_edu=sum(Education),\n            total_food=sum(Food),\n            total_rec=sum(Recreation),\n            total_shl=sum(Shelter),\n            total_w=sum(Wage),\n            total_rent=sum(RentAdjustment),\n            total_saving=sum(Saving),\n            .groups = 'drop') %>%\n  as.data.frame()\ndf2 <- merge(x= df,y= p_data, by = \"participantId\")\n\ndf3 <- fin_data %>%                              # Applying group_by & summarise\n  group_by(participantId) %>%\n  summarise(count_month = n_distinct(timestamp)) %>%\n  filter(count_month>1)\ndf4 <-merge(x=df3,y=df2, \n             by=\"participantId\", all.x=TRUE)\n\nmy_sum <- df4 %>%\n  group_by(educationLevel) %>%\n  summarise(\n    n=n(),\n    mean=mean(joviality),\n    sd=sd(joviality)\n    ) %>%\n  mutate(se=sd/sqrt(n-1))\n\nggplot(my_sum) +\n  geom_errorbar(\n    aes(x=educationLevel, \n        ymin=mean-se, \n        ymax=mean+se), \n    width=0.2, \n    colour=\"black\", \n    alpha=0.9, \n    size=0.5) +\n  geom_point(aes\n           (x=educationLevel, \n            y=mean), \n           stat=\"identity\", \n           color=\"red\",\n           size = 1.5,\n           alpha=1) +\n  scale_x_discrete(limits = c(\"Low\", \"HighSchoolOrCollege\", \"Bachelors\", \"Graduate\")) +\n  ggtitle(\"Standard error of mean \n          Joviality score by educationLevel\")\n\n\n\n\nsumm <- my_sum[order(factor(my_sum$educationLevel, levels = c(\"Low\", \"HighSchoolOrCollege\", \"Bachelors\", \"Graduate\"))),c(\"educationLevel\",\"n\",\"mean\",\"sd\")]\nknitr::kable(head(summ), format = 'html')\n\n\n\n \n  \n    educationLevel \n    n \n    mean \n    sd \n  \n \n\n  \n    Low \n    56 \n    0.4187639 \n    0.2937796 \n  \n  \n    HighSchoolOrCollege \n    422 \n    0.4346854 \n    0.2724155 \n  \n  \n    Bachelors \n    232 \n    0.4975164 \n    0.2976517 \n  \n  \n    Graduate \n    170 \n    0.5162219 \n    0.2969368 \n  \n\n\n\n\n\n\n\n\n\n\n\n5.2 Figure out the relationship of householdSize and Joviality\n\nFrom the plotting below, we see that number of householdSize does not have huge effect on the median of Joviality but there is still some slight impact that household with 2 or more people tend to have a middle or low level of joviality while one person are more intend to be either with high or low joviality\n\nThe plotThe code\n\n\n\n\n\n\n\n\n\n\nggbetweenstats(\n  data = df4,\n  x = householdSize, \n  y = joviality,\n  type = \"np\",\n  mean.ci = TRUE, \n  pairwise.comparisons = TRUE, \n  pairwise.display = \"s\",\n  p.adjust.method = \"fdr\",\n  messages = FALSE\n)\n\n\n\n\n\n\n\n5.3 Money and Joviality\n\nfrom the graph below, we can find that the saving of most people are below 50000 within the study period.\n\n\nShow the code\ngghistostats(\n  data = df4,\n  x = total_saving,\n  type = \"bayes\",\n  test.value = 60,\n  xlab = \"total_saving\"\n)\n\n\n\n\n\n\n\n\nAnd by plotting the ralationship of wages and joviality, we can high wages does not really mean for high joviality.\n\n\nShow the code\nggscatterstats(\n  data = df4,\n  x = total_w,\n  y = joviality,\n  marginal = FALSE,\n  )\n\n\n\n\n\n\n\n5.4 InterestGroup and Joviality\n\nIt seems that most interest groups has a mean joviality value around 0.5 and has similar joviality distribution, but groups like D or H should be paid more attention to.\n\nThe plotThe code\n\n\n\n\n\n\n\n\n\n\n\ntooltip <- function(y, ymax, accuracy = .01) {\n  mean <- scales::number(y, accuracy = accuracy)\n  sem <- scales::number(ymax - y, accuracy = accuracy)\n  paste(\"Mean Joviality scores:\", mean, \"+/-\", sem)\n}\n\ngg_point <- ggplot(data=df4, \n                   aes(x = interestGroup),\n) +\n  stat_summary(aes(y = joviality, \n                   tooltip = after_stat(  \n                     tooltip(y, ymax))),  \n    fun.data = \"mean_se\", \n    geom = GeomInteractiveCol,  \n    fill = \"light blue\"\n  ) +\n  stat_summary(aes(y = joviality),\n    fun.data = mean_se,\n    geom = \"errorbar\", width = 0.2, size = 0.2\n  )+\n  coord_cartesian(ylim=c(0,0.8))\n\ngirafe(ggobj = gg_point,\n       width_svg = 8,\n       height_svg = 8*0.618)"
  },
  {
    "objectID": "Take-home_Ex/Take-home_Ex01/Take-home_Ex01.html#figure-out-the-relationship-of-householdsize-and-joviality",
    "href": "Take-home_Ex/Take-home_Ex01/Take-home_Ex01.html#figure-out-the-relationship-of-householdsize-and-joviality",
    "title": "Take-home Exercise 1",
    "section": "5.2 Figure out the relationship of householdSize and Joviality",
    "text": "5.2 Figure out the relationship of householdSize and Joviality\n\nFrom the plotting below, we see that number of householdSize does not have huge effect on Joviality but there is still some slight impact that household with 2 or more people tend to have a bit higher mean joviality than 1 person and 2 people have the hight mean.\n\nThe plotThe code\n\n\n\n\n\n\n\n\n\n\nggbetweenstats(\n  data = df2,\n  x = householdSize, \n  y = joviality,\n  type = \"np\",\n  mean.ci = TRUE, \n  pairwise.comparisons = TRUE, \n  pairwise.display = \"s\",\n  p.adjust.method = \"fdr\",\n  messages = FALSE\n)"
  },
  {
    "objectID": "Take-home_Ex/Take-home_Ex01/Take-home_Ex01.html#next",
    "href": "Take-home_Ex/Take-home_Ex01/Take-home_Ex01.html#next",
    "title": "Take-home Exercise 1",
    "section": "Next",
    "text": "Next\n\ngghistostats(\n  data = df2,\n  x = total_saving,\n  type = \"bayes\",\n  test.value = 60,\n  xlab = \"total_saving\"\n)\n\n\n\n\n\nplot_ly(data = df2, \n        x = ~total_saving, \n        y = ~joviality, \n        color = ~interestGroup)"
  },
  {
    "objectID": "Take-home_Ex/Take-home_Ex01/Take-home_Ex01.html#distribution-of-savings",
    "href": "Take-home_Ex/Take-home_Ex01/Take-home_Ex01.html#distribution-of-savings",
    "title": "Take-home Exercise 1",
    "section": "Distribution of savings",
    "text": "Distribution of savings\n\nfrom the graph below, we can find that the saving of most people are below 50000 within the study period.\n\ngghistostats(\n  data = df2,\n  x = total_saving,\n  type = \"bayes\",\n  test.value = 60,\n  xlab = \"total_saving\"\n)"
  },
  {
    "objectID": "Take-home_Ex/Take-home_Ex01/Take-home_Ex01.html#and-by-plotting-the-ralationship-of-savings-interestgroups-and-joviality-we-can-see-that-no-matter-how-much-people-save-they-are-still-willing-to-join-any-kinds-of-interest-groups.",
    "href": "Take-home_Ex/Take-home_Ex01/Take-home_Ex01.html#and-by-plotting-the-ralationship-of-savings-interestgroups-and-joviality-we-can-see-that-no-matter-how-much-people-save-they-are-still-willing-to-join-any-kinds-of-interest-groups.",
    "title": "Take-home Exercise 1",
    "section": "And by plotting the ralationship of savings, interestGroups and joviality, we can see that no matter how much people save, they are still willing to join any kinds of interest groups.",
    "text": "And by plotting the ralationship of savings, interestGroups and joviality, we can see that no matter how much people save, they are still willing to join any kinds of interest groups.\n\nplot_ly(data = df2, \n        x = ~total_saving, \n        y = ~joviality, \n        color = ~interestGroup)"
  },
  {
    "objectID": "Take-home_Ex/Take-home_Ex01/Take-home_Ex01.html#conclusion",
    "href": "Take-home_Ex/Take-home_Ex01/Take-home_Ex01.html#conclusion",
    "title": "Take-home Exercise 1",
    "section": "Conclusion",
    "text": "Conclusion\n\nTherefore, in order to assist with the major community revitalization efforts, the very large city renewal grant they have recently received should be allocated as below:\n\n Invest in high-quality teachers, provide resources and support for schools and universities and utilize technology like online learning platforms and educational software to encourage people to gain knowledge and improve education qualification\n\n\n Make dating apps, matchmaking services, holding networking events or other method to help single people conveniently meet and connect with like-minded people and find a partner\n\n\n Setup community service, hold activities and interest groups to provide people with opportunities to meet people of same interests."
  },
  {
    "objectID": "Hands-on_Ex/Hands-on_Ex05/Hands-on_Ex05.html",
    "href": "Hands-on_Ex/Hands-on_Ex05/Hands-on_Ex05.html",
    "title": "Hands-on Exercise 5",
    "section": "",
    "text": "pacman::p_load(igraph, tidygraph, ggraph, \n               visNetwork, lubridate, clock,\n               tidyverse, graphlayouts)\n\n\n\n\n\nGAStech_nodes <- read_csv(\"data/GAStech_email_node.csv\")\nGAStech_edges <- read_csv(\"data/GAStech_email_edge-v2.csv\")\n\n\n\n\n\n\nglimpse(GAStech_edges)\n\nRows: 9,063\nColumns: 8\n$ source      <dbl> 43, 43, 44, 44, 44, 44, 44, 44, 44, 44, 44, 44, 26, 26, 26…\n$ target      <dbl> 41, 40, 51, 52, 53, 45, 44, 46, 48, 49, 47, 54, 27, 28, 29…\n$ SentDate    <chr> \"6/1/2014\", \"6/1/2014\", \"6/1/2014\", \"6/1/2014\", \"6/1/2014\"…\n$ SentTime    <time> 08:39:00, 08:39:00, 08:58:00, 08:58:00, 08:58:00, 08:58:0…\n$ Subject     <chr> \"GT-SeismicProcessorPro Bug Report\", \"GT-SeismicProcessorP…\n$ MainSubject <chr> \"Work related\", \"Work related\", \"Work related\", \"Work rela…\n$ sourceLabel <chr> \"Sven.Flecha\", \"Sven.Flecha\", \"Kanon.Herrero\", \"Kanon.Herr…\n$ targetLabel <chr> \"Isak.Baza\", \"Lucas.Alcazar\", \"Felix.Resumir\", \"Hideki.Coc…\n\n\n\n\n\n\n\nGAStech_edges <- GAStech_edges %>%\n  mutate(SendDate = dmy(SentDate)) %>%\n  mutate(Weekday = wday(SentDate,\n                        label = TRUE,\n                        abbr = FALSE))\n\n\n\n\n\nGAStech_edges_aggregated <- GAStech_edges %>%\n  filter(MainSubject == \"Work related\") %>%\n  group_by(source, target, Weekday) %>%\n    summarise(Weight = n()) %>%\n  filter(source!=target) %>%\n  filter(Weight > 1) %>%\n  ungroup()\n\n\n\n\n\n\n\n\nGAStech_graph <- tbl_graph(nodes = GAStech_nodes,\n                           edges = GAStech_edges_aggregated, \n                           directed = TRUE)\nGAStech_graph\n\n# A tbl_graph: 54 nodes and 1372 edges\n#\n# A directed multigraph with 1 component\n#\n# A tibble: 54 × 4\n     id label               Department     Title                                \n  <dbl> <chr>               <chr>          <chr>                                \n1     1 Mat.Bramar          Administration Assistant to CEO                     \n2     2 Anda.Ribera         Administration Assistant to CFO                     \n3     3 Rachel.Pantanal     Administration Assistant to CIO                     \n4     4 Linda.Lagos         Administration Assistant to COO                     \n5     5 Ruscella.Mies.Haber Administration Assistant to Engineering Group Manag…\n6     6 Carla.Forluniau     Administration Assistant to IT Group Manager        \n# ℹ 48 more rows\n#\n# A tibble: 1,372 × 4\n   from    to Weekday Weight\n  <int> <int> <ord>    <int>\n1     1     2 Sunday       5\n2     1     2 Monday       2\n3     1     2 Tuesday      3\n# ℹ 1,369 more rows\n\n\n\n\n\n\n\n\nGAStech_graph %>%\n  activate(edges) %>%\n  arrange(desc(Weight))\n\n# A tbl_graph: 54 nodes and 1372 edges\n#\n# A directed multigraph with 1 component\n#\n# A tibble: 1,372 × 4\n   from    to Weekday  Weight\n  <int> <int> <ord>     <int>\n1    40    41 Saturday     13\n2    41    43 Monday       11\n3    35    31 Tuesday      10\n4    40    41 Monday       10\n5    40    43 Monday       10\n6    36    32 Sunday        9\n# ℹ 1,366 more rows\n#\n# A tibble: 54 × 4\n     id label           Department     Title           \n  <dbl> <chr>           <chr>          <chr>           \n1     1 Mat.Bramar      Administration Assistant to CEO\n2     2 Anda.Ribera     Administration Assistant to CFO\n3     3 Rachel.Pantanal Administration Assistant to CIO\n# ℹ 51 more rows\n\n\n\n\n\n\n\n\n\n\nggraph(GAStech_graph) +\n  geom_edge_link() +\n  geom_node_point()\n\n\n\n\n\n\n\n\ng <- ggraph(GAStech_graph) + \n  geom_edge_link(aes()) +\n  geom_node_point(aes())\n\ng + theme_graph()\n\n\n\n\n\n\n\n\ng <- ggraph(GAStech_graph) + \n  geom_edge_link(aes(colour = 'grey50')) +\n  geom_node_point(aes(colour = 'grey40'))\n\ng + theme_graph(background = 'grey10',\n                text_colour = 'white')\n\n\n\n\n\n\n\n\ng <- ggraph(GAStech_graph, \n            layout = \"fr\") +\n  geom_edge_link(aes()) +\n  geom_node_point(aes())\n\ng + theme_graph()\n\n\n\n\n\n\n\n\ng <- ggraph(GAStech_graph, \n            layout = \"nicely\") + \n  geom_edge_link(aes()) +\n  geom_node_point(aes(colour = Department, \n                      size = 3))\n\ng + theme_graph()\n\n\n\n\n\n\n\n\ng <- ggraph(GAStech_graph, \n            layout = \"nicely\") +\n  geom_edge_link(aes(width=Weight), \n                 alpha=0.2) +\n  scale_edge_width(range = c(0.1, 5)) +\n  geom_node_point(aes(colour = Department), \n                  size = 3)\n\ng + theme_graph()\n\n\n\n\n\n\n\n\n\n\n\nset_graph_style()\n\ng <- ggraph(GAStech_graph, \n            layout = \"nicely\") + \n  geom_edge_link(aes(width=Weight), \n                 alpha=0.2) +\n  scale_edge_width(range = c(0.1, 5)) +\n  geom_node_point(aes(colour = Department), \n                  size = 2)\n\ng + facet_edges(~Weekday)\n\n\n\n\n\nset_graph_style()\n\ng <- ggraph(GAStech_graph, \n            layout = \"nicely\") + \n  geom_edge_link(aes(width=Weight), \n                 alpha=0.2) +\n  scale_edge_width(range = c(0.1, 5)) +\n  geom_node_point(aes(colour = Department), \n                  size = 2) +\n  theme(legend.position = 'bottom')\n  \ng + facet_edges(~Weekday)\n\n\n\n\n\n\n\n\nset_graph_style() \n\ng <- ggraph(GAStech_graph, \n            layout = \"nicely\") + \n  geom_edge_link(aes(width=Weight), \n                 alpha=0.2) +\n  scale_edge_width(range = c(0.1, 5)) +\n  geom_node_point(aes(colour = Department), \n                  size = 2)\n  \ng + facet_edges(~Weekday) +\n  th_foreground(foreground = \"grey80\",  \n                border = TRUE) +\n  theme(legend.position = 'bottom')\n\n\n\n\n\n\n\n\nset_graph_style()\n\ng <- ggraph(GAStech_graph, \n            layout = \"nicely\") + \n  geom_edge_link(aes(width=Weight), \n                 alpha=0.2) +\n  scale_edge_width(range = c(0.1, 5)) +\n  geom_node_point(aes(colour = Department), \n                  size = 2)\n  \ng + facet_nodes(~Department)+\n  th_foreground(foreground = \"grey80\",  \n                border = TRUE) +\n  theme(legend.position = 'bottom')\n\n\n\n\n\n\n\n\n\n\n\ng <- GAStech_graph %>%\n  mutate(betweenness_centrality = centrality_betweenness()) %>%\n  ggraph(layout = \"fr\") + \n  geom_edge_link(aes(width=Weight), \n                 alpha=0.2) +\n  scale_edge_width(range = c(0.1, 5)) +\n  geom_node_point(aes(colour = Department,\n            size=betweenness_centrality))\ng + theme_graph()\n\n\n\n\n\n\n\n\ng <- GAStech_graph %>%\n  ggraph(layout = \"fr\") + \n  geom_edge_link(aes(width=Weight), \n                 alpha=0.2) +\n  scale_edge_width(range = c(0.1, 5)) +\n  geom_node_point(aes(colour = Department, \n                      size = centrality_betweenness()))\ng + theme_graph()\n\n\n\n\n\n\n\n\ng <- GAStech_graph %>%\n  mutate(community = as.factor(group_edge_betweenness(weights = Weight, directed = TRUE))) %>%\n  ggraph(layout = \"fr\") + \n  geom_edge_link(aes(width=Weight), \n                 alpha=0.2) +\n  scale_edge_width(range = c(0.1, 5)) +\n  geom_node_point(aes(colour = community))  \n\ng + theme_graph()\n\n\n\n\n\n\n\n\n\n\n\nGAStech_edges_aggregated <- GAStech_edges %>%\n  left_join(GAStech_nodes, by = c(\"sourceLabel\" = \"label\")) %>%\n  rename(from = id) %>%\n  left_join(GAStech_nodes, by = c(\"targetLabel\" = \"label\")) %>%\n  rename(to = id) %>%\n  filter(MainSubject == \"Work related\") %>%\n  group_by(from, to) %>%\n    summarise(weight = n()) %>%\n  filter(from!=to) %>%\n  filter(weight > 1) %>%\n  ungroup()\n\n\n\n\n\nvisNetwork(GAStech_nodes, \n           GAStech_edges_aggregated)\n\n\n\n\n\n\n\n\n\nvisNetwork(GAStech_nodes,\n           GAStech_edges_aggregated) %>%\n  visIgraphLayout(layout = \"layout_with_fr\") \n\n\n\n\n\n\n\n\n\nGAStech_nodes <- GAStech_nodes %>%\n  rename(group = Department) \n\n\nvisNetwork(GAStech_nodes,\n           GAStech_edges_aggregated) %>%\n  visIgraphLayout(layout = \"layout_with_fr\") %>%\n  visLegend() %>%\n  visLayout(randomSeed = 123)\n\n\n\n\n\n\n\n\n\nvisNetwork(GAStech_nodes,\n           GAStech_edges_aggregated) %>%\n  visIgraphLayout(layout = \"layout_with_fr\") %>%\n  visEdges(arrows = \"to\", \n           smooth = list(enabled = TRUE, \n                         type = \"curvedCW\")) %>%\n  visLegend() %>%\n  visLayout(randomSeed = 123)\n\n\n\n\n\n\n\n\n\nvisNetwork(GAStech_nodes,\n           GAStech_edges_aggregated) %>%\n  visIgraphLayout(layout = \"layout_with_fr\") %>%\n  visOptions(highlightNearest = TRUE,\n             nodesIdSelection = TRUE) %>%\n  visLegend() %>%\n  visLayout(randomSeed = 123)"
  },
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "ISSS608-VAA",
    "section": "",
    "text": "Welcome to ISSS608 Visual Analytics and Application. In this website, you will find my coursework prepared for this course."
  },
  {
    "objectID": "Take-home_Ex/Take-home_Ex01/Take-home_Ex01 - v2.html#install-launch-r-packages-load-data-and-build-data-table",
    "href": "Take-home_Ex/Take-home_Ex01/Take-home_Ex01 - v2.html#install-launch-r-packages-load-data-and-build-data-table",
    "title": "Take-home Exercise 1",
    "section": "4. Install, launch R packages, load data and build data table",
    "text": "4. Install, launch R packages, load data and build data table\n\nReading the paticipants csv and build interactive paticipants table\n\n\nShow the code\npacman::p_load(tidyverse,dplyr,DT,plotly, ggdist,gganimate,ggstatsplot,ggiraph)\n\n\n\n\nShow the code\np_data <- read_csv(\"data/Participants.csv\") %>% \n  mutate_if(is.character, as.factor) %>% \n  distinct()\nDT::datatable(p_data, class= \"compact\")\n\n\n\n\n\n\n\n\n\nModify the time style of the financial data, pivot the catogory and regroup, calculate the Savings, and build interactive FinancialJournal table\n\n\nShow the code\nfin_data <- read_csv(\"data/FinancialJournal.csv\") %>% \n  mutate_if(is.character, as.factor) %>% distinct() \nfin_data$timestamp <- format(as.Date(fin_data$timestamp), \"%Y-%m\")\nf_data <- fin_data %>% group_by(participantId,timestamp,category) %>% \n  summarise(total_amount=sum(amount),\n            .groups = 'drop') %>%\n  as.data.frame()\nf_data <- f_data %>%\n  pivot_wider(.,names_from = \"category\", values_from = \"total_amount\") \nf_data <- replace(f_data, is.na(f_data), 0) %>%\n    mutate(Saving = select(., Education:RentAdjustment) %>% rowSums(na.rm = TRUE))\nDT::datatable(f_data, class= \"compact\")"
  },
  {
    "objectID": "Take-home_Ex/Take-home_Ex01/Take-home_Ex01 - v2.html#analysis-and-visualization",
    "href": "Take-home_Ex/Take-home_Ex01/Take-home_Ex01 - v2.html#analysis-and-visualization",
    "title": "Take-home Exercise 1",
    "section": "5. Analysis and visualization",
    "text": "5. Analysis and visualization\n\n5.1 Figure out the relationship of educationLevel and Joviality\n\nOverall, we see from below that with the increasing of education level, people tend to have higher level of joviality as the lower bound and mean value of joviality has a trend to increase. Although we can also observe that for low level of education, the range is bigger that all other level, this might indicate longer social experience can still affect the upper bound of joviality, but enhancing education is still a more direct way to increase joviality level.\n\nThe plotThe codeThe statistics table\n\n\n\n\n\n\n\n\n\n\ndf <- f_data %>% group_by(participantId) %>% \n  summarise(total_edu=sum(Education),\n            total_food=sum(Food),\n            total_rec=sum(Recreation),\n            total_shl=sum(Shelter),\n            total_w=sum(Wage),\n            total_rent=sum(RentAdjustment),\n            total_saving=sum(Saving),\n            .groups = 'drop') %>%\n  as.data.frame()\ndf2 <- merge(x= df,y= p_data, by = \"participantId\")\n\ndf3 <- fin_data %>%                              # Applying group_by & summarise\n  group_by(participantId) %>%\n  summarise(count_month = n_distinct(timestamp)) %>%\n  filter(count_month>1)\ndf4 <-merge(x=df3,y=df2, \n             by=\"participantId\", all.x=TRUE)\n\nmy_sum <- df4 %>%\n  group_by(educationLevel) %>%\n  summarise(\n    n=n(),\n    mean=mean(joviality),\n    sd=sd(joviality)\n    ) %>%\n  mutate(se=sd/sqrt(n-1))\n\nggplot(my_sum) +\n  geom_errorbar(\n    aes(x=educationLevel, \n        ymin=mean-se, \n        ymax=mean+se), \n    width=0.2, \n    colour=\"black\", \n    alpha=0.9, \n    size=0.5) +\n  geom_point(aes\n           (x=educationLevel, \n            y=mean), \n           stat=\"identity\", \n           color=\"red\",\n           size = 1.5,\n           alpha=1) +\n  scale_x_discrete(limits = c(\"Low\", \"HighSchoolOrCollege\", \"Bachelors\", \"Graduate\")) +\n  ggtitle(\"Standard error of mean \n          Joviality score by educationLevel\")\n\n\n\n\nsumm <- my_sum[order(factor(my_sum$educationLevel, levels = c(\"Low\", \"HighSchoolOrCollege\", \"Bachelors\", \"Graduate\"))),c(\"educationLevel\",\"n\",\"mean\",\"sd\")]\nknitr::kable(head(summ), format = 'html')\n\n\n\n \n  \n    educationLevel \n    n \n    mean \n    sd \n  \n \n\n  \n    Low \n    56 \n    0.4187639 \n    0.2937796 \n  \n  \n    HighSchoolOrCollege \n    422 \n    0.4346854 \n    0.2724155 \n  \n  \n    Bachelors \n    232 \n    0.4975164 \n    0.2976517 \n  \n  \n    Graduate \n    170 \n    0.5162219 \n    0.2969368 \n  \n\n\n\n\n\n\n\n\n\n\n\n5.2 Figure out the relationship of householdSize and Joviality\n\nFrom the plotting below, we see that number of householdSize does not have huge effect on the median of Joviality but there is still some slight impact that household with 2 or more people tend to have a middle or low level of joviality while one person are more intend to be either with high or low joviality\n\nThe plotThe code\n\n\n\n\n\n\n\n\n\n\nggbetweenstats(\n  data = df4,\n  x = householdSize, \n  y = joviality,\n  type = \"np\",\n  mean.ci = TRUE, \n  pairwise.comparisons = TRUE, \n  pairwise.display = \"s\",\n  p.adjust.method = \"fdr\",\n  messages = FALSE\n)\n\n\n\n\n\n\n\n5.3 Money and Joviality\n\nfrom the graph below, we can find that the saving of most people are below 50000 within the study period.\n\n\nShow the code\ngghistostats(\n  data = df4,\n  x = total_saving,\n  type = \"bayes\",\n  test.value = 60,\n  xlab = \"total_saving\"\n)\n\n\n\n\n\n\n\n\nAnd by plotting the ralationship of wages and joviality, we can high wages does not really mean for high joviality.\n\n\nShow the code\nggscatterstats(\n  data = df4,\n  x = total_w,\n  y = joviality,\n  marginal = FALSE,\n  )\n\n\n\n\n\n\n\n5.4 InterestGroup and Joviality\n\nIt seems that most interest groups has a mean joviality value around 0.5 and has similar joviality distribution, but groups like D or H should be paid more attention to.\n\nThe plotThe code\n\n\n\n\n\n\n\n\n\n\n\ntooltip <- function(y, ymax, accuracy = .01) {\n  mean <- scales::number(y, accuracy = accuracy)\n  sem <- scales::number(ymax - y, accuracy = accuracy)\n  paste(\"Mean Joviality scores:\", mean, \"+/-\", sem)\n}\n\ngg_point <- ggplot(data=df4, \n                   aes(x = interestGroup),\n) +\n  stat_summary(aes(y = joviality, \n                   tooltip = after_stat(  \n                     tooltip(y, ymax))),  \n    fun.data = \"mean_se\", \n    geom = GeomInteractiveCol,  \n    fill = \"light blue\"\n  ) +\n  stat_summary(aes(y = joviality),\n    fun.data = mean_se,\n    geom = \"errorbar\", width = 0.2, size = 0.2\n  )+\n  coord_cartesian(ylim=c(0,0.8))\n\ngirafe(ggobj = gg_point,\n       width_svg = 8,\n       height_svg = 8*0.618)"
  },
  {
    "objectID": "Take-home_Ex/Take-home_Ex01/Take-home_Ex01 - v2.html#conclusion",
    "href": "Take-home_Ex/Take-home_Ex01/Take-home_Ex01 - v2.html#conclusion",
    "title": "Take-home Exercise 1",
    "section": "Conclusion",
    "text": "Conclusion\n\nTherefore, in order to assist with the major community revitalization efforts, the very large city renewal grant they have recently received should be allocated as below:\n\n Invest in high-quality teachers, provide resources and support for schools and universities and utilize technology like online learning platforms and educational software to encourage people to gain knowledge and improve education qualification\n\n\n Make dating apps, matchmaking services, holding networking events or other method to help single people conveniently meet and connect with like-minded people and find a partner\n\n\n Setup community service, hold activities and interest groups to provide people with opportunities to meet people of same interests."
  },
  {
    "objectID": "In-class_Ex/In-class_Ex05/In-class_Ex05.html",
    "href": "In-class_Ex/In-class_Ex05/In-class_Ex05.html",
    "title": "In-class Exercise 5",
    "section": "",
    "text": "pacman::p_load(jsonlite,tidygraph,ggraph, visNetwork,tidyverse)"
  },
  {
    "objectID": "In-class_Ex/In-class_Ex05/In-class_Ex05.html#load-data",
    "href": "In-class_Ex/In-class_Ex05/In-class_Ex05.html#load-data",
    "title": "In-class Exercise 5",
    "section": "Load data",
    "text": "Load data\n\nMC1 <- jsonlite::fromJSON(\"data/MC1.json\")\n\n\nExpand MC1_nodes\n\nMC1_nodes <- as_tibble(MC1$nodes) %>%\n  select(id, type, country)\n\n\n\nExpand MC1_edges\n\nMC1_edges <- as_tibble(MC1$links) %>%\n  select(source,target,type,weight,key)"
  }
]